{% comment %}
#
# Session Login
# @docs     https://developers.google.com/identity/gsi/web/reference/html-reference
#
{% endcomment %}
{% load cacheless_static %}
<!DOCTYPE html>
<html
  class="no-js"
  lang="en"
  data-url_session_basic_login="{% url 'session_basic_login' %}"
  data-url_session_oauth_login="{% url 'session_oauth_login' %}"
  >
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>{{ site_title }} | Login</title>

    {# Base Scripts #}
    {% include "base/_scripts_initial.html" %}
    {% include "base/_scripts_common.html" %}
    {% include "base/_scripts_auth.html" %}
    {% include "base/_scripts_components.html" %}

    <link type="text/css" rel="stylesheet" href="{% cacheless_static 'css/SessionLogin.css' %}" />

  </head>
  <body>

    {% if environment != 'prod' %}
      <div class="environment noselect {{ environment }}">
        {{ environment|upper }} ENVIRONMENT
      </div>
    {% endif %}

    <div id="preloader">
        <div id="status">&nbsp;</div>
    </div>

    <div class="inner-wrap">
      <div class="wrap-fluid">
        <br> <br>

        <div class="large-3 small-centered columns" style="min-width:300px;">

          {# Layout Content #}
          <div class="box bg-white">
            <div class="box-body" style="display: block;">
              <div class="row">
                <div class="large-12 columns">

                  <div class="row">
                    <div class="edumix-signup-panel">

                      <div class="logo">
                        <img src="/static/brand/attoya/ui/logo.png" alt="Attoya Ops">
                      </div>

                      <div class="row column log-in-form">

                        {% if form.errors %}
                          <p>Incorrect Login</p>
                        {% endif %}

                        {% if next %}
                          <p>This page is restricted.</p>
                        {% endif %}

                        <form method="post">
                          <input type="hidden" name="next" value="{{ next }}" />

                          <label>Username {{ form.username }}</label>
                          <label>Password {{ form.password }}</label>

                          <button type="submit" class="button expanded" style="margin-bottom:0;">Log In</button>
                        </form>

                      </div>

                      {% comment %}
                      <div class="single-sign-on">

                        <div id="g_id_onload"
                            data-client_id="{{ google_sso_client_id }}"
                            data-login_uri="{{ public_url }}{% url 'session_basic_login' %}"
                            data-callback="session_oauth_login">
                        </div>

                        <div class="g_id_signin clearfix" data-type="standard" data-theme="filled_blue" data-width="100" data-locale="en-gb"></div>

                        <!--<a class="button expanded" href="{# url 'session_saml_sso' #}?next={{ request.GET.next }}">Sign In with Google</a>-->

                      </div>
                      {% endcomment %}

                    </div>
                  </div>


                </div>
              </div>
            </div>

          </div>

        </div>
      </div>
    </div>

    {# @notice Theme JS Should always be last #}
    <script type="text/javascript" src="{% cacheless_static 'js/base/Theme.js' %}"></script>

    <context
      deploy_datetime="{{ deploy_datetime }}"
      deploy_release="{{ deploy_release }}"
      deploy_build="{{ deploy_build }}"
      data-server_current="{{ server_current|lower }}"
      data-environment="{{ environment|lower }}"
      data-next_href="{% if next_href != None %}{{ next_href }}{% endif %}"
      debug="{{ debug|lower }}"
      debug_dev="{{ debug_dev|lower }}"
    ></context>

  </body>
</html>